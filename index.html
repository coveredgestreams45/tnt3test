<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CricxCrate â€“ Live Cricket</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.6.3/shaka-player.compiled.js"></script>

<style>
  * { box-sizing: border-box; }

  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
    background: #eef2f7;
    color: #111827;
  }

  .main {
    max-width: 420px;
    margin: 0 auto;
    padding: 14px;
  }

  .card {
    background: #fff;
    border-radius: 22px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
  }

  .header {
    text-align: center;
    font-weight: 600;
    font-size: 16px;
  }

  .player-card {
    padding: 0;
    overflow: hidden;
    background: #000;
  }

  .player-wrap {
    position: relative;
    aspect-ratio: 16/9;
  }

  .player-wrap video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .section-title {
    text-align: center;
    font-weight: 600;
    margin-bottom: 12px;
  }

  .btn-row, .share-row {
    display: flex;
    gap: 12px;
    justify-content: center;
  }

  .btn {
    flex: 1;
    padding: 12px;
    border-radius: 16px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    font-size: 14px;
  }

  .btn.primary {
    background: #ff6b6b;
    color: #fff;
  }

  .btn.secondary {
    background: #fff;
    color: #ff6b6b;
    border: 1px solid #ffd1d1;
  }

  .tg-banner {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: 600;
    text-decoration: none;
    color: inherit;
  }

  .tg-banner img {
    width: 28px;
  }

  .popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.35);
    backdrop-filter: blur(6px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999;
  }

  .popup-box {
    background: rgba(255,255,255,0.9);
    padding: 26px 22px;
    border-radius: 26px;
    text-align: center;
    width: 90%;
    max-width: 340px;
  }

  .popup-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
</style>
</head>

<body>

<div class="popup" id="popup">
  <div class="popup-box">
    <h2>Welcome ðŸ¤©</h2>
    <p>Join Telegram for live match updates</p>
    <div class="popup-content">
      <a class="btn primary" href="https://t.me/CricxCrate" target="_blank">Join @CricxCrate</a>
      <button class="btn secondary" onclick="closePopup()">Already Joined</button>
    </div>
  </div>
</div>

<div class="main">
  <div class="card header">CricxCrate â€¢ Willow Sports</div>

  <div class="card player-card">
    <div class="player-wrap">
      <video id="video" controls autoplay muted playsinline></video>
    </div>
  </div>

  <div class="card">
    <div class="section-title">âš¡ Join Telegram For Live Updates</div>
    <div class="btn-row">
      <a class="btn primary" href="https://t.me/CricxCrate" target="_blank">Join Telegram</a>
      <a class="btn secondary" href="https://t.me/CricxCratelinks" target="_blank">All Channels</a>
    </div>
  </div>

  <a href="https://t.me/CricxCrate" target="_blank" class="card tg-banner">
    <img src="https://telegram.org/img/t_logo.png">
    Join @CricxCrate
  </a>
</div>

<script>
/* POPUP */
const popup = document.getElementById("popup");
function closePopup() {
  popup.style.display = "none";
  sessionStorage.setItem("joined", "yes");
}
if (sessionStorage.getItem("joined") === "yes") {
  popup.style.display = "none";
}

/* SHAKA PLAYER */
async function initPlayer() {
  const video = document.getElementById("video");
  const player = new shaka.Player(video);

  player.configure({
    drm: {
      clearKeys: {
        "192b1115da041585c77200128549efa1":
        "634e10efe4abbb14be400a3ccbac0258"
      }
    }
  });

  try {
    await player.load(
      "https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/dash/enc/i2pcjr4pe5/out/v1/912e9db56d75403b8a9ac0a719110f36/cenc.mpd"
    );
  } catch (e) {
    console.error("Stream load failed", e);
  }
}

document.addEventListener("DOMContentLoaded", initPlayer);
</script>

</body>
</html>

